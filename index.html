<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HJ ‚Äì Holly Jolly Christmas üéÑ</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #ffffff;
      color: #333;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      max-width: 420px;
      width: 100%;
      padding: 20px;
      text-align: center;
    }
    h1 {
      margin-bottom: 8px;
      font-size: 1.8rem;
      color: #0b6b2a;
      text-shadow: none;
    }
    p.subtitle {
      font-size: 0.85rem;
      color: #777;
      margin-bottom: 24px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    .box {
      background: #ffffff;
      color: #0b6b2a;
      border-radius: 16px;
      padding: 16px 0 10px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      position: relative;
      box-shadow: 0 6px 14px rgba(0,0,0,0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border: 1.5px solid #e6e6e6;
    }
    .box::before {
      content: "üéÅ";
      font-size: 1.9rem;
      margin-bottom: 6px;
    }
    
    .box::before {
      content: "üéÅ";
      font-size: 2.2rem;
      margin-bottom: 4px;
    }
    
    .box::before {
      content: "üéÅ";
      font-size: 2rem;
      margin-bottom: 4px;
    }
    .box:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.12);
    }
    .box.opened {
      background: #f4f4f4;
      color: #aaa;
      cursor: not-allowed;
      box-shadow: none;
    }
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .modal-content {
      background: #ffffff;
      color: #333;
      border-radius: 20px;
      max-width: 360px;
      width: 100%;
      padding: 28px 24px;
      text-align: center;
      border: 1px solid #e6e6e6;
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    .modal-content h2 {
      color: #0b6b2a;
      margin-bottom: 14px;
      font-size: 1.3rem;
    }
    .btn {
      margin-top: 20px;
      background: #0b6b2a;
      color: #fff;
      border: none;
      padding: 12px 26px;
      border-radius: 999px;
      font-size: 0.95rem;
      cursor: pointer;
      box-shadow: 0 6px 14px rgba(11,107,42,0.25);
    }
    .btn:hover {
      opacity: 0.9;
    }
    .btn:hover {
      transform: scale(1.05);
    }
    .coupon {
      border: 1.5px dashed #0b6b2a;
      border-radius: 12px;
      padding: 16px;
      margin-top: 14px;
      background: #fafafa;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéÑ HJ ‚Äì Holly Jolly Christmas üéÅ</h1>
    <p class="subtitle">Open only 1 box per day until Christmas ‚Ä¢ Starts 14 Dec ‚Ä¢ Resets 00:00</p>
    <div class="grid" id="grid"></div>
  </div>

  <div class="modal" id="modal">
    <div class="modal-content" id="modalContent"></div>
  </div>

  <script>
    // 10 Christmas love messages
    const messages = [
      "Loving you is the easiest and happiest thing I‚Äôve ever done.‚ù§Ô∏è",
      "Christmas feels warmer because I have you by my side.",
      "You are the reason my holidays are full of smiles and love.",
      "All I want for Christmas is you ‚Äî today and always.",
      "Thank you for being my safe place, my joy, my Christmas miracle.",
      "I feels at home whenever I‚Äôm with you.",
      "Thanks for being my safe place",
      "Being loved by you is my favorite feeling in the world.",
      "Love, laughter, and you ‚Äî that‚Äôs my perfect Christmas.",
      "You make my life sparkle brighter than Christmas lights ‚ú®"
    ];

    // Coupons
    const coupons = {
      6: {
        title: "üéü Christmas Coupon",
        text: "Redeem this coupon for one big hug, one kiss, and unlimited love ü§ç"
      },
      12: {
        title: "üéü Christmas Coupon",
        text: "Redeem this coupon for one special date night together üíï"
      }
    };

    const songBoxIndex = Math.floor(Math.random() * 11) + 1;
    const song = {
      title: "üéß Today‚Äôs Song for You",
      text: "I chose this song because it reminds me of you üíó",
      url: "https://youtu.be/YgF5p2QzhN4?si=_o7yTKwYVjImdy8w"
    };
    const startDate = new Date('2025-12-14T00:00:00');
    const today = new Date();
    const diffDays = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
    const availableBoxes = Math.min(Math.max(diffDays + 1, 0), 12);

    const todayKey = today.toISOString().split('T')[0];
    const openedToday = localStorage.getItem('openedDate') === todayKey;

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');

    function openModal(html) {
      modalContent.innerHTML = html;
      modal.style.display = 'flex';
    }

    modal.addEventListener('click', () => modal.style.display = 'none');

    for (let i = 1; i <= 12; i++) {
      const box = document.createElement('div');
      box.className = 'box';
      box.textContent = i;

      // lock by date order
      if (i > availableBoxes) {
        box.classList.add('opened');
        box.style.opacity = '0.4';
        box.style.cursor = 'not-allowed';
      }

      // lock coupon dates
      if (i === 6 && today < new Date('2025-12-19T00:00:00')) box.classList.add('opened');
      if (i === 12 && today < new Date('2025-12-25T00:00:00')) box.classList.add('opened');

      if (openedToday) box.classList.add('opened');

      box.addEventListener('click', () => {
        if (box.classList.contains('opened')) return;

        localStorage.setItem('openedDate', todayKey);

        if (coupons[i]) {
          const c = coupons[i];
          openModal(`
            <h2>${c.title}</h2>
            <div class="coupon"><p>${c.text}</p></div>
            <button class="btn">Redeem</button>
          `);
        } else {
          openModal(`<h2>üéÑ Merry Christmas</h2><p>${messages[i - 1]}</p>`);
        }

        document.querySelectorAll('.box').forEach(b => b.classList.add('opened'));
      });

      grid.appendChild(box);
    }
  </script>
</body>
</html>
